import{d as F,b as N,a as m,c as O}from"./DziMoUHv.js";import{p as q,a4 as w,a5 as z,f as I,t as C,a as B,a3 as J,g as e,a1 as L,a6 as K,a2 as b,a7 as E}from"./CD1yeb4j.js";import{p as G,i as Q}from"./Cr850htK.js";import{e as S,i as R}from"./DP2AB7yM.js";import{s as U}from"./C0GVvPMB.js";import{a as H,s as d}from"./Cr9MqyqS.js";import{b as V}from"./Btbd9Ljt.js";import{o as W}from"./TYV9lbj6.js";const T=(p,o)=>{var v;(v=o.photoClick)==null||v.call(o,{src:p.target.src})};var X=N('<a target="_blank" rel="noopener noreferrer" class="svelte-1n8tdm1"><img class="img-hover column svelte-1n8tdm1"></a>'),Y=N('<img class="img-hover column svelte-1n8tdm1">'),Z=N('<div class="column svelte-1n8tdm1"></div>'),$=N('<div class="slot-holder svelte-1n8tdm1"><!></div> <div class="root svelte-1n8tdm1"></div>',1);function it(p,o){q(o,!0);let v=G(o,"focusPoint",19,()=>({})),y=G(o,"columnCount",3,4),j=G(o,"imageHeight",3,"250px"),c=w(null),f=w(z([]));const A=()=>{var h;if(!e(c))return;const a=Array.from(e(c).childNodes).filter(t=>t instanceof HTMLElement&&(t.tagName==="IMG"||t.tagName==="A"&&t.childNodes[0]instanceof HTMLElement&&t.childNodes[0].tagName==="IMG"));E(f,new Array(y()).fill([]),!0);for(let t=0;t<a.length;t++){const n=t%y(),r=a[t].tagName==="A"?a[t].href:null,g=a[t].tagName==="IMG"?a[t]:a[t].childNodes[0],{src:i,alt:M,className:x}=g,l=v()[((h=i==null?void 0:i.match(/DSC\d+/))==null?void 0:h.toString())??""],s=l?`object-position: ${l}`:null;e(f)[n]=[...e(f)[n],{src:i,alt:M,class:x,style:s,href:r}]}};W(()=>{A();const a=new MutationObserver(A);return a.observe(e(c),{childList:!0}),()=>a.disconnect()});var P=$(),u=I(P),D=L(u);U(D,()=>o.children??K),b(u),V(u,a=>E(c,a),()=>e(c));var k=J(u,2);S(k,21,()=>e(f),R,(a,h)=>{var t=Z();S(t,21,()=>e(h),n=>n.src,(n,r)=>{var g=O(),i=I(g);{var M=l=>{var s=X(),_=L(s);_.__click=[T,o],b(s),C(()=>{d(s,"href",e(r).href),d(_,"src",e(r).src),d(_,"alt",e(r).alt),H(_,e(r).style)}),m(l,s)},x=l=>{var s=Y();s.__click=[T,o],C(()=>{d(s,"src",e(r).src),d(s,"alt",e(r).alt),H(s,e(r).style)}),m(l,s)};Q(i,l=>{e(r).href?l(M):l(x,!1)})}m(n,g)}),b(t),m(a,t)}),b(k),C(()=>H(k,`--columns-count: ${y()??""}; --image-height: ${j()??""}`)),m(p,P),B()}F(["click"]);export{it as G};
