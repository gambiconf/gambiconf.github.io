import{f as T,e as N,d as m,b as D}from"./F8PG9TeJ.js";import{p as F,L as P,N as J,j as w,t as x,k as K,M as q,l as e,G as I,O as B,J as b,K as j}from"./D7ZRu39d.js";import{p as C,i as Q}from"./DBC1yLnA.js";import{e as z,i as R,a as H,s as d}from"./BNcYhOYG.js";import{s as U}from"./CkMddre1.js";import{b as V}from"./BgUyDhrc.js";import{o as W}from"./labf_KbO.js";const E=(y,o)=>{var v;(v=o.photoClick)==null||v.call(o,{src:y.target.src})};var X=N('<a target="_blank" rel="noopener noreferrer" class="svelte-1n8tdm1"><img loading="lazy" class="img-hover column svelte-1n8tdm1"></a>'),Y=N('<img loading="lazy" class="img-hover column svelte-1n8tdm1">'),Z=N('<div class="column svelte-1n8tdm1"></div>'),$=N('<div class="slot-holder svelte-1n8tdm1"><!></div> <div class="root svelte-1n8tdm1"></div>',1);function nt(y,o){F(o,!0);let v=C(o,"focusPoint",19,()=>({})),k=C(o,"columnCount",3,4),O=C(o,"imageHeight",3,"250px"),c=P(null),f=P(J([]));const A=()=>{var h;if(!e(c))return;const a=Array.from(e(c).childNodes).filter(t=>t instanceof HTMLElement&&(t.tagName==="IMG"||t.tagName==="A"&&t.childNodes[0]instanceof HTMLElement&&t.childNodes[0].tagName==="IMG"));j(f,new Array(k()).fill([]),!0);for(let t=0;t<a.length;t++){const n=t%k(),r=a[t].tagName==="A"?a[t].href:null,g=a[t].tagName==="IMG"?a[t]:a[t].childNodes[0],{src:i,alt:M,className:G}=g,l=v()[((h=i==null?void 0:i.match(/DSC\d+/))==null?void 0:h.toString())??""],s=l?`object-position: ${l}`:null;e(f)[n]=[...e(f)[n],{src:i,alt:M,class:G,style:s,href:r}]}};W(()=>{A();const a=new MutationObserver(A);return a.observe(e(c),{childList:!0}),()=>a.disconnect()});var L=$(),u=w(L),S=I(u);U(S,()=>o.children??B),b(u),V(u,a=>j(c,a),()=>e(c));var p=q(u,2);z(p,21,()=>e(f),R,(a,h)=>{var t=Z();z(t,21,()=>e(h),n=>n.src,(n,r)=>{var g=D(),i=w(g);{var M=l=>{var s=X(),_=I(s);_.__click=[E,o],b(s),x(()=>{d(s,"href",e(r).href),d(_,"src",e(r).src),d(_,"alt",e(r).alt),H(_,e(r).style)}),m(l,s)},G=l=>{var s=Y();s.__click=[E,o],x(()=>{d(s,"src",e(r).src),d(s,"alt",e(r).alt),H(s,e(r).style)}),m(l,s)};Q(i,l=>{e(r).href?l(M):l(G,!1)})}m(n,g)}),b(t),m(a,t)}),b(p),x(()=>H(p,`--columns-count: ${k()??""}; --image-height: ${O()??""}`)),m(y,L),K()}T(["click"]);export{nt as G};
