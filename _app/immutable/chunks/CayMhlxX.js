import{f as D,e as N,d as m,b as F}from"./BDWvENjW.js";import{p as J,L as P,M as K,j as w,t as x,k as q,K as z,l as e,G as I,N as B,J as b,O as j}from"./CYZ8Y5j3.js";import{p as C,i as Q}from"./uTCjkibE.js";import{e as E,i as R,a as H,s as d}from"./Cyd8y1Qv.js";import{s as U}from"./CLqdMfrr.js";import{b as V}from"./DFSPXjrT.js";import{o as W}from"./2vkrJXLX.js";const O=(k,o)=>{var v;(v=o.photoClick)==null||v.call(o,{src:k.target.src})};var X=N('<a target="_blank" rel="noopener noreferrer" class="svelte-1n8tdm1"><img class="img-hover column svelte-1n8tdm1"></a>'),Y=N('<img class="img-hover column svelte-1n8tdm1">'),Z=N('<div class="column svelte-1n8tdm1"></div>'),$=N('<div class="slot-holder svelte-1n8tdm1"><!></div> <div class="root svelte-1n8tdm1"></div>',1);function nt(k,o){J(o,!0);let v=C(o,"focusPoint",19,()=>({})),p=C(o,"columnCount",3,4),S=C(o,"imageHeight",3,"250px"),c=P(null),f=P(K([]));const A=()=>{var h;if(!e(c))return;const a=Array.from(e(c).childNodes).filter(t=>t instanceof HTMLElement&&(t.tagName==="IMG"||t.tagName==="A"&&t.childNodes[0]instanceof HTMLElement&&t.childNodes[0].tagName==="IMG"));j(f,new Array(p()).fill([]),!0);for(let t=0;t<a.length;t++){const n=t%p(),r=a[t].tagName==="A"?a[t].href:null,g=a[t].tagName==="IMG"?a[t]:a[t].childNodes[0],{src:i,alt:M,className:G}=g,l=v()[((h=i==null?void 0:i.match(/DSC\d+/))==null?void 0:h.toString())??""],s=l?`object-position: ${l}`:null;e(f)[n]=[...e(f)[n],{src:i,alt:M,class:G,style:s,href:r}]}};W(()=>{A();const a=new MutationObserver(A);return a.observe(e(c),{childList:!0}),()=>a.disconnect()});var L=$(),u=w(L),T=I(u);U(T,()=>o.children??B),b(u),V(u,a=>j(c,a),()=>e(c));var y=z(u,2);E(y,21,()=>e(f),R,(a,h)=>{var t=Z();E(t,21,()=>e(h),n=>n.src,(n,r)=>{var g=F(),i=w(g);{var M=l=>{var s=X(),_=I(s);_.__click=[O,o],b(s),x(()=>{d(s,"href",e(r).href),d(_,"src",e(r).src),d(_,"alt",e(r).alt),H(_,e(r).style)}),m(l,s)},G=l=>{var s=Y();s.__click=[O,o],x(()=>{d(s,"src",e(r).src),d(s,"alt",e(r).alt),H(s,e(r).style)}),m(l,s)};Q(i,l=>{e(r).href?l(M):l(G,!1)})}m(n,g)}),b(t),m(a,t)}),b(y),x(()=>H(y,`--columns-count: ${p()??""}; --image-height: ${S()??""}`)),m(k,L),q()}D(["click"]);export{nt as G};
