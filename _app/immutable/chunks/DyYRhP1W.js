import{d as D,b as y,a as m,c as F}from"./DlACfd32.js";import{p as O,a4 as w,a6 as q,f as I,t as C,a as B,a5 as J,g as e,a1 as L,a7 as K,a2 as b,a3 as z}from"./BoGLmW6e.js";import{p as G,i as Q}from"./CTbOU4Ux.js";import{e as E,i as R}from"./DoMq5sC-.js";import{s as U}from"./DT8vAyrw.js";import{a as H,s as d}from"./x5TFg32R.js";import{b as V}from"./BmviE8RB.js";import{o as W}from"./fI_Wy4vH.js";const S=(N,o)=>{var v;(v=o.photoClick)==null||v.call(o,{src:N.target.src})};var X=y('<a target="_blank" rel="noopener noreferrer" class="svelte-1n8tdm1"><img loading="lazy" class="img-hover column svelte-1n8tdm1"></a>'),Y=y('<img loading="lazy" class="img-hover column svelte-1n8tdm1">'),Z=y('<div class="column svelte-1n8tdm1"></div>'),$=y('<div class="slot-holder svelte-1n8tdm1"><!></div> <div class="root svelte-1n8tdm1"></div>',1);function it(N,o){O(o,!0);let v=G(o,"focusPoint",19,()=>({})),p=G(o,"columnCount",3,4),T=G(o,"imageHeight",3,"250px"),c=w(null),f=w(q([]));const A=()=>{var h;if(!e(c))return;const a=Array.from(e(c).childNodes).filter(t=>t instanceof HTMLElement&&(t.tagName==="IMG"||t.tagName==="A"&&t.childNodes[0]instanceof HTMLElement&&t.childNodes[0].tagName==="IMG"));z(f,new Array(p()).fill([]),!0);for(let t=0;t<a.length;t++){const n=t%p(),r=a[t].tagName==="A"?a[t].href:null,g=a[t].tagName==="IMG"?a[t]:a[t].childNodes[0],{src:i,alt:M,className:x}=g,l=v()[((h=i==null?void 0:i.match(/DSC\d+/))==null?void 0:h.toString())??""],s=l?`object-position: ${l}`:null;e(f)[n]=[...e(f)[n],{src:i,alt:M,class:x,style:s,href:r}]}};W(()=>{A();const a=new MutationObserver(A);return a.observe(e(c),{childList:!0}),()=>a.disconnect()});var P=$(),u=I(P),j=L(u);U(j,()=>o.children??K),b(u),V(u,a=>z(c,a),()=>e(c));var k=J(u,2);E(k,21,()=>e(f),R,(a,h)=>{var t=Z();E(t,21,()=>e(h),n=>n.src,(n,r)=>{var g=F(),i=I(g);{var M=l=>{var s=X(),_=L(s);_.__click=[S,o],b(s),C(()=>{d(s,"href",e(r).href),d(_,"src",e(r).src),d(_,"alt",e(r).alt),H(_,e(r).style)}),m(l,s)},x=l=>{var s=Y();s.__click=[S,o],C(()=>{d(s,"src",e(r).src),d(s,"alt",e(r).alt),H(s,e(r).style)}),m(l,s)};Q(i,l=>{e(r).href?l(M):l(x,!1)})}m(n,g)}),b(t),m(a,t)}),b(k),C(()=>H(k,`--columns-count: ${p()??""}; --image-height: ${T()??""}`)),m(N,P),B()}D(["click"]);export{it as G};
