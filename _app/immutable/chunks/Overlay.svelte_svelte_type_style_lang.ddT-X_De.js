import{I as $,J as T}from"./scheduler.C4kd6Amo.js";import{d as g}from"./index.DKxs11bF.js";function v(n,e){return Array.isArray(e)?e.map(a=>b(n,a)):b(n,e)}function b(n,e){for(const a of n)if(a.hasMessage(e))return a;return null}const p={};function w(n,e){const a=g(n,f=>(t,l)=>{const s=v(f,t);if(s===null)return e(`[svelte-fluent] Localization missing: "${t}"`),{value:t,attributes:{}};const r=s.getMessage(t);if(!r)return e(`[svelte-fluent] Localization missing: "${t}"`),{value:t,attributes:{}};const o=[],i=r.value?s.formatPattern(r.value,l,o):"",c=Object.fromEntries(Object.entries(r.attributes||{}).map(([u,m])=>[u,s.formatPattern(m,l,o)]));for(const u of o)e(`[svelte-fluent] Localization error: ${u}`);return{value:i,attributes:c}}),z=g(n,f=>(t,l)=>{const[s,r]=t.split(".",2),o=v(f,s);if(o===null)return e(`[svelte-fluent] Localization missing: "${t}"`),t;const i=o.getMessage(s);if(!i)return e(`[svelte-fluent] Localization missing: "${t}"`),t;const c=r?i.attributes[r]:i.value;if(c===null)return e(`[svelte-fluent] Localization missing: "${t}"`),t;const u=[],m=o.formatPattern(c,l,u);for(const L of u)e(`[svelte-fluent] Localization error: ${L}`);return m});return T(p,{getTranslation:a,localize:z})}function h(){const n=$(p);if(!n)throw new Error("[svelte-fluent] <FluentProvider/> was not found in component hierarchy.");return n}const x={subscribe(n){return h().getTranslation.subscribe(n)}};export{x as g,w as i};
