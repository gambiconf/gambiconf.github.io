import{f as T,e as y,d as m,b as D}from"./BnCFrtgf.js";import{p as J,G as P,J as K,j as w,t as G,k as O,I as q,l as e,C as E,K as B,E as b,F as L}from"./juGp4RU1.js";import{p as x,i as Q}from"./Dq_He_G3.js";import{e as j,i as R,a as H,s as d}from"./B3meFvgb.js";import{s as U}from"./CE3_vk4D.js";import{b as V}from"./DksLuRvg.js";import{o as W}from"./I8qmX4OF.js";const z=(N,o)=>{var v;(v=o.photoClick)==null||v.call(o,{src:N.target.src})};var X=y('<a target="_blank" rel="noopener noreferrer" class="svelte-1n8tdm1"><img loading="lazy" class="img-hover column svelte-1n8tdm1"></a>'),Y=y('<img loading="lazy" class="img-hover column svelte-1n8tdm1">'),Z=y('<div class="column svelte-1n8tdm1"></div>'),$=y('<div class="slot-holder svelte-1n8tdm1"><!></div> <div class="root svelte-1n8tdm1"></div>',1);function nt(N,o){J(o,!0);let v=x(o,"focusPoint",19,()=>({})),k=x(o,"columnCount",3,4),F=x(o,"imageHeight",3,"250px"),c=P(null),f=P(K([]));const A=()=>{var h;if(!e(c))return;const a=Array.from(e(c).childNodes).filter(t=>t instanceof HTMLElement&&(t.tagName==="IMG"||t.tagName==="A"&&t.childNodes[0]instanceof HTMLElement&&t.childNodes[0].tagName==="IMG"));L(f,new Array(k()).fill([]),!0);for(let t=0;t<a.length;t++){const n=t%k(),r=a[t].tagName==="A"?a[t].href:null,g=a[t].tagName==="IMG"?a[t]:a[t].childNodes[0],{src:i,alt:M,className:C}=g,l=v()[((h=i==null?void 0:i.match(/DSC\d+/))==null?void 0:h.toString())??""],s=l?`object-position: ${l}`:null;e(f)[n]=[...e(f)[n],{src:i,alt:M,class:C,style:s,href:r}]}};W(()=>{A();const a=new MutationObserver(A);return a.observe(e(c),{childList:!0}),()=>a.disconnect()});var I=$(),u=w(I),S=E(u);U(S,()=>o.children??B),b(u),V(u,a=>L(c,a),()=>e(c));var p=q(u,2);j(p,21,()=>e(f),R,(a,h)=>{var t=Z();j(t,21,()=>e(h),n=>n.src,(n,r)=>{var g=D(),i=w(g);{var M=l=>{var s=X(),_=E(s);_.__click=[z,o],b(s),G(()=>{d(s,"href",e(r).href),d(_,"src",e(r).src),d(_,"alt",e(r).alt),H(_,e(r).style)}),m(l,s)},C=l=>{var s=Y();s.__click=[z,o],G(()=>{d(s,"src",e(r).src),d(s,"alt",e(r).alt),H(s,e(r).style)}),m(l,s)};Q(i,l=>{e(r).href?l(M):l(C,!1)})}m(n,g)}),b(t),m(a,t)}),b(p),G(()=>H(p,`--columns-count: ${k()??""}; --image-height: ${F()??""}`)),m(N,I),O()}T(["click"]);export{nt as G};
