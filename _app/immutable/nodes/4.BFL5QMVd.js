import{l as Ft,e as A,d as k,s as E,p as It,t as ot,f as Ht,r as pe,q as Ut}from"../chunks/BnCFrtgf.js";import{A as nt,aM as Gt,t as Q,D as Jt,C as a,E as t,I as r,l as e,m as ee,p as vt,q as Rt,G as O,F as s,k as ct,j as ce,J as Re}from"../chunks/juGp4RU1.js";import{p as Z,i as Y}from"../chunks/Dq_He_G3.js";import{b as he,a as ut,d as Wt,s as _,e as dt,i as ft,r as be}from"../chunks/B3meFvgb.js";import{b as se}from"../chunks/CUkc0h6A.js";import{o as Dt}from"../chunks/I8qmX4OF.js";import{L as w}from"../chunks/D_aywDq5.js";import"../chunks/RwYcBG6X.js";import{h as Vt}from"../chunks/DEX2uM0d.js";import{a as ie}from"../chunks/B8mlo5lA.js";import{W as Kt}from"../chunks/BFy5jFx2.js";import{t as We}from"../chunks/CE3_vk4D.js";function _t(i,l,o){if(i.multiple)return Xt(i,l);for(var m of i.options){var u=de(m);if(Gt(u,l)){m.selected=!0;return}}(!o||l!==void 0)&&(i.selectedIndex=-1)}function Qt(i,l){nt(()=>{var o=new MutationObserver(()=>{var m=i.__value;_t(i,m)});return o.observe(i,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{o.disconnect()}})}function De(i,l,o=l){var m=!0;Ft(i,"change",u=>{var b=u?"[selected]":":checked",h;if(i.multiple)h=[].map.call(i.querySelectorAll(b),de);else{var d=i.querySelector(b)??i.querySelector("option:not([disabled])");h=d&&de(d)}o(h)}),nt(()=>{var u=l();if(_t(i,u,m),m&&u===void 0){var b=i.querySelector(":checked");b!==null&&(u=de(b),o(u))}i.__value=u,m=!1}),Qt(i)}function Xt(i,l){for(var o of i.options)o.selected=~l.indexOf(de(o))}function de(i){return"__value"in i?i.__value:i.value}var Yt=A("<div></div>");function Zt(i,l){let o=Z(l,"color",8,"#FF3E00"),m=Z(l,"unit",8,"px"),u=Z(l,"duration",8,"0.75s"),b=Z(l,"size",8,"60"),h=Z(l,"pause",8,!1);var d=Yt();let y;Q(F=>{y=he(d,1,"circle svelte-dqjlks",null,y,F),ut(d,`--size: ${b()??""}${m()??""}; --color: ${o()??""}; --duration: ${u()??""}`)},[()=>({"pause-animation":h()})],Jt),k(i,d)}const $t=async i=>{const l=await fetch(`https://n48djewxre.execute-api.us-east-1.amazonaws.com/submissions/${i}`);return l.status!==200?!1:await l.json()},ea=async i=>{const l=await fetch("https://n48djewxre.execute-api.us-east-1.amazonaws.com/submissions",{method:"POST",body:JSON.stringify(i)});return l.status!==200?!1:await l.json()},ta=async i=>(await fetch(`https://n48djewxre.execute-api.us-east-1.amazonaws.com/submissions/${i.id}`,{method:"PUT",body:JSON.stringify(i)})).status===200;var aa=A("<div> </div>");function ra(i,l){var o=aa(),m=a(o,!0);t(o),Q(()=>{he(o,1,Wt(l.status),"svelte-1xenq6d"),E(m,l.message)}),k(i,o)}const ue=i=>Array.from(i).map(l=>new RegExp("\\p{Extended_Pictographic}","u").test(l)?2:1).reduce((l,o)=>l+o,0);var sa=It('<svg><circle></circle><circle class="rotate svelte-1dztmlr"></circle><svg><circle fill="white"></circle></svg></svg>');function la(i,l){let o=Z(l,"size",3,100),m=Z(l,"percent",3,0),u=Z(l,"bgColor",3,"#304BA5"),b=Z(l,"fgColor",3,"#E5E5E5"),h=ee(()=>`0 0 ${o()} ${o()}`),d=ee(()=>o()/2),y=ee(()=>Math.PI*e(d)),F=ee(()=>e(y)*(m()/100)),B=ee(()=>`0 ${e(y)-e(F)} ${e(F)}`);var f=sa(),M=a(f),z=r(M),L=r(z),G=a(L);t(L),t(f),Q(()=>{_(f,"width",o()),_(f,"height",o()),_(f,"viewBox",e(h)),_(M,"r",e(d)),_(M,"cx",e(d)),_(M,"cy",e(d)),_(M,"fill",b()),_(z,"r",e(d)/2),_(z,"cx",e(d)),_(z,"cy",e(d)),_(z,"stroke",u()),_(z,"stroke-width",e(d)),_(z,"stroke-dasharray",e(B)),_(L,"x",o()*.1),_(L,"y",o()*.1),_(G,"r",e(d)*.8),_(G,"cx",e(d)*.8),_(G,"cy",e(d)*.8)}),k(i,f)}var ia=A("<br>"),oa=A('<span class="tweet-handler svelte-fkt1zm"> </span>'),na=A("<!> <!>",1),va=A('<div class="tweet svelte-fkt1zm"><div class="profile-pic svelte-fkt1zm"></div> <div class="content svelte-fkt1zm"><div class="header svelte-fkt1zm"><div class="meta svelte-fkt1zm"><span class="nickname svelte-fkt1zm">GambiConf</span> <span class="handle svelte-fkt1zm">@gambiconf <span class="date-separator svelte-fkt1zm">Â·</span></span> <span class="date svelte-fkt1zm">July 1, 2022</span></div> <img class="ellipsis svelte-fkt1zm" alt="Ellipsis"></div> <div class="text svelte-fkt1zm"></div> <div class="icons svelte-fkt1zm"><img alt="Comment" class="svelte-fkt1zm"> <img alt="Retweet" class="svelte-fkt1zm"> <img alt="Favorite" class="svelte-fkt1zm"> <img alt="Info" class="svelte-fkt1zm"> <img alt="Stats" class="svelte-fkt1zm"> <!></div></div></div>');function lt(i,l){vt(l,!0);let o=Z(l,"body",3,""),m=ee(()=>ue(o())*100/270),u=O("ok");Rt(()=>{var le,g,te;e(m)>100&&e(u)!=="exceeded"?(s(u,"exceeded"),(le=l.tweetStatusChanged)==null||le.call(l,e(u))):e(m)>75&&e(m)<=100&&e(u)!=="warning"?(s(u,"warning"),(g=l.tweetStatusChanged)==null||g.call(l,e(u))):e(m)<=75&&e(u)!=="ok"&&(s(u,"ok"),(te=l.tweetStatusChanged)==null||te.call(l,e(u)))});var b=va(),h=a(b);ut(h,`background-image: url(${`${ie}/tweet/avatar.png`})`);var d=r(h,2),y=a(d),F=r(a(y),2);_(F,"src",`${ie}/tweet/ellipsis.svg`),t(y);var B=r(y,2);dt(B,21,()=>o().split(/(\s)/),ft,(le,g)=>{var te=na(),ne=ce(te);{var ge=X=>{var ve=ia();k(X,ve)},xe=(X,ve)=>{{var ke=q=>{var n=oa(),H=a(n,!0);t(n),Q(()=>E(H,e(g))),k(q,n)},J=q=>{var n=ot();Q(()=>E(n,e(g))),k(q,n)};Y(X,q=>{e(g)[0]==="@"?q(ke):q(J,!1)},ve)}};Y(ne,X=>{e(g)===`
`?X(ge):X(xe,!1)})}var we=r(ne,2);Vt(we,()=>" "),k(le,te)}),t(B);var f=r(B,2),M=a(f);_(M,"src",`${ie}/tweet/comment.svg`);var z=r(M,2);_(z,"src",`${ie}/tweet/retweet.svg`);var L=r(z,2);_(L,"src",`${ie}/tweet/favorite.svg`);var G=r(L,2);_(G,"src",`${ie}/tweet/info.svg`);var I=r(G,2);_(I,"src",`${ie}/tweet/stats.svg`);var oe=r(I,2);la(oe,{size:24,get percent(){return e(m)},get bgColor(){return{exceeded:"red",warning:"#ff7720",ok:"#304BA5"}[e(u)]}}),t(f),t(d),t(b),k(i,b),ct()}const it=i=>i?i[0].toUpperCase()+i.slice(1):"",ca=(i,l,o)=>{s(l,[...e(l),""],!0),s(o,[...e(o),"ok"],!0)},ua=(i,l,o,m,u,b,h,d,y,F,B,f,M,z,L,G)=>{s(l,""),s(o,!1),s(m,""),s(u,""),s(b,""),s(h,""),s(d,""),s(y,""),s(F,""),s(B,[""],!0),s(f,["ok"],!0),s(M,""),s(z,""),s(L,""),s(G,{status:"idle"},!0);const I=new URL(window.location.toString());I.searchParams.delete("id"),window.history.pushState(null,"",I.toString())};var da=A('<label for="name" class="svelte-1c0rh5x"> </label> <input name="name" type="text">',1),fa=A('<label for="language" class="svelte-1c0rh5x"> </label> <select name="language" required><option> </option><option> </option><option> </option></select>',1),_a=A('<label for="type" class="svelte-1c0rh5x"> </label> <select name="type" required><option> </option><option> </option></select> <label for="type" class="sublabel svelte-1c0rh5x"> </label>',1),ma=A('<label for="duration" class="svelte-1c0rh5x"> </label> <select name="duration" required><option> </option><option> </option><option> </option><option> </option></select>',1),pa=A('<div class="field svelte-1c0rh5x"><!></div>'),ba=A('<button type="button" class="remove-speaker svelte-1c0rh5x">&#x2212;</button>'),ha=A('<button type="button" class="add-speaker svelte-1c0rh5x"><!></button>'),ga=A('<div class="field svelte-1c0rh5x"><div class="bio-header svelte-1c0rh5x"><label class="svelte-1c0rh5x"><!> <!></label> <div class="bio-buttons svelte-1c0rh5x"><!> <!></div></div> <textarea rows="4"></textarea> <span><!> <span> </span></span> <!></div>'),xa=A('<div class="alert-wrapper svelte-1c0rh5x"><!></div>'),wa=A('<button type="submit" class="outline svelte-1c0rh5x"><!></button>'),ka=A(`<form class="svelte-1c0rh5x"><h4 class="svelte-1c0rh5x"><!></h4> <div class="field svelte-1c0rh5x"><label for="name" class="svelte-1c0rh5x"><!></label> <input name="name" type="text" required> <label for="name" class="sublabel svelte-1c0rh5x"><!></label></div> <div class="field svelte-1c0rh5x"><!></div> <div class="field svelte-1c0rh5x"><!></div> <div class="field svelte-1c0rh5x"><!></div> <div class="field svelte-1c0rh5x"><label for="title" class="svelte-1c0rh5x"><!></label> <input name="title" type="text" required></div> <div class="field svelte-1c0rh5x"><label for="description" class="svelte-1c0rh5x"><!></label> <textarea name="description" rows="4" required></textarea></div> <!> <span><!> <span> </span></span> <!> <h4 class="svelte-1c0rh5x"><!></h4> <!> <h4 class="svelte-1c0rh5x"><!></h4> <div class="field svelte-1c0rh5x"><label for="social" class="svelte-1c0rh5x"><!></label> <textarea name="social" placeholder="GitHub: macabeus
Stack Overflow: macabeus
..." rows="3" required></textarea></div> <div class="field svelte-1c0rh5x"><label for="email" class="svelte-1c0rh5x"><!></label> <input name="email" type="email" required></div> <div class="field svelte-1c0rh5x"><label for="email" class="svelte-1c0rh5x"><!></label> <textarea name="notes" rows="3"></textarea></div> <!> <button type="submit" class="svelte-1c0rh5x"><!></button> <!></form>`),ya=A('<div class="page svelte-1c0rh5x"><!></div>');function Oa(i,l){vt(l,!0);let o=O(""),m=O(!1),u=O(""),b=O(""),h=O(""),d=O(""),y=O(""),F=O(""),B=O(""),f=O(Re([""])),M=O(""),z=O(""),L=O(""),G=O("ok"),I=O(Re(["ok"])),oe=ee(()=>e(B)==="only_english"?`${it(e(h))} "${e(d)}" by ${e(b)||e(u)} (in ðŸ‡ºðŸ‡¸)

${e(y)}`:`${it(e(h))} "${e(d)}" por ${e(b)||e(u)}

${e(y)}`),le=ee(()=>e(f).map(J=>e(B)==="only_english"?`About the speaker:
${J}`:`Sobre o palestrante:
${J}`)),g=O(Re({status:"idle"}));const te=We("cfp--submit-success"),ne=We("cfp--submit-error"),ge=J=>{e(f).length>1&&(s(f,e(f).filter((q,n)=>n!==J),!0),s(I,e(I).filter((q,n)=>n!==J),!0))},xe=async J=>{if(J.preventDefault(),ue(e(oe))>270){s(g,{status:"error",message:"Tweet talk exceeds 270 characters"},!0);return}const q=e(f).filter(n=>n.trim());for(let n=0;n<q.length;n++){const H=e(B)==="only_english"?`About the speaker${q.length>1?` ${n+1}`:""}:
${q[n]}`:`Sobre o palestrante${q.length>1?` ${n+1}`:""}:
${q[n]}`;if(ue(H)>270){s(g,{status:"error",message:`Tweet bio for speaker ${n+1} exceeds 270 characters`},!0);return}}if(s(g,{status:"submitting"},!0),e(o))await ta({id:e(o),speakerName:e(u),twitterHandler:e(b),type:e(h),title:e(d),description:e(y),duration:Number(e(F)),language:e(B),speakerBio:e(f).filter(H=>H.trim()).join(" | "),speakerSocialMedias:e(M),speakerEmail:e(z),notes:e(L)})?s(g,{status:"success",message:te},!0):s(g,{status:"error",message:ne},!0);else{const n=await ea({speakerName:e(u),twitterHandler:e(b),type:e(h),title:e(d),description:e(y),duration:Number(e(F)),language:e(B),speakerBio:e(f).filter(H=>H.trim()).join(" | "),speakerSocialMedias:e(M),speakerEmail:e(z),notes:e(L)});if(n){s(m,!0),s(o,n.id,!0);const H=new URL(window.location.toString());H.searchParams.set("id",n.id),window.history.pushState(null,"",H.toString()),s(g,{status:"success",message:te},!0)}else s(g,{status:"error",message:ne},!0)}},we=async()=>{const q=new URLSearchParams(window.location.search).get("id");if(q){s(o,q,!0);const n=await $t(q);if(!n){window.alert("We could not load a submission with the given id. Please, report the issue by sending us an email (mambi@gambiconf.dev) or opening an issue on https://github.com/gambiconf/gambiconf.github.io");return}s(u,n.speakerName,!0),s(b,n.twitterHandler,!0),s(h,n.type,!0),s(d,n.title,!0),s(y,n.description,!0),s(F,`${n.duration}`),s(B,n.language,!0),s(f,n.speakerBio?n.speakerBio.split(" | "):[""],!0),s(I,new Array(e(f).length).fill("ok"),!0),s(M,n.speakerSocialMedias,!0),s(z,n.speakerEmail,!0),s(L,n.notes,!0)}};Dt(()=>{we()});var X=ya(),ve=a(X);const ke=ee(()=>We("cfp--title"));Kt(ve,{get title(){return e(ke)},children:(J,q)=>{var n=ka(),H=a(n),mt=a(H);w(mt,{id:"cfp--section-main"}),t(H);var ye=r(H,2),Se=a(ye),pt=a(Se);w(pt,{id:"cfp--field-name"}),t(Se);var ze=r(Se,2);be(ze);var Ve=r(ze,2),bt=a(Ve);w(bt,{id:"cfp--field-name-sublabel"}),t(Ve),t(ye);var qe=r(ye,2),ht=a(qe);w(ht,{id:"cfp--field-twitter-handler",children:(p,c)=>{let P=()=>c==null?void 0:c().attrs;var x=da(),S=ce(x),U=a(S,!0);t(S);var T=r(S,2);be(T),Q(()=>{E(U,P().label),_(T,"placeholder",P().placeholder)}),se(T,()=>e(b),C=>s(b,C)),k(p,x)},$$slots:{default:!0}}),t(qe);var Pe=r(qe,2),gt=a(Pe);w(gt,{id:"cfp--field-language",children:(p,c)=>{let P=()=>c==null?void 0:c().attrs;var x=fa(),S=ce(x),U=a(S,!0);t(S);var T=r(S,2),C=a(T);C.value=C.__value="only_portuguese";var ae=a(C,!0);t(C);var j=r(C);j.value=j.__value="only_english";var W=a(j,!0);t(j);var D=r(j);D.value=D.__value="portuguese_or_english";var V=a(D,!0);t(D),t(T),Q(()=>{E(U,P().label),E(ae,P().optionPortuguese),E(W,P().optionEnglish),E(V,P().optionPortugueseOrEnglish)}),De(T,()=>e(B),K=>s(B,K)),k(p,x)},$$slots:{default:!0}}),t(Pe);var Ce=r(Pe,2),xt=a(Ce);w(xt,{id:"cfp--field-type",children:(p,c)=>{let P=()=>c==null?void 0:c().attrs;var x=_a(),S=ce(x),U=a(S,!0);t(S);var T=r(S,2),C=a(T);C.value=C.__value="talk";var ae=a(C,!0);t(C);var j=r(C);j.value=j.__value="workshop";var W=a(j,!0);t(j),t(T);var D=r(T,2),V=a(D,!0);t(D),Q(()=>{E(U,P().label),E(ae,P().optionTalk),E(W,P().optionWorkshop),E(V,P().sublabel)}),De(T,()=>e(h),K=>s(h,K)),k(p,x)},$$slots:{default:!0}}),t(Ce);var Ee=r(Ce,2),Ae=a(Ee),wt=a(Ae);w(wt,{id:"cfp--field-title"}),t(Ae);var Ke=r(Ae,2);be(Ke),t(Ee);var Be=r(Ee,2),Me=a(Be),kt=a(Me);w(kt,{id:"cfp--field-description"}),t(Me);var Qe=r(Me,2);pe(Qe),t(Be);var Xe=r(Be,2);{var yt=v=>{var p=pa(),c=a(p);w(c,{id:"cfp--field-ideal-duration",children:(x,S)=>{let U=()=>S==null?void 0:S().attrs;var T=ma(),C=ce(T),ae=a(C,!0);t(C);var j=r(C,2),W=a(j);W.value=W.__value="15";var D=a(W,!0);t(W);var V=r(W);V.value=V.__value="20";var K=a(V,!0);t(V);var $=r(V);$.value=$.__value="30";var _e=a($,!0);t($);var re=r($);re.value=re.__value="45";var me=a(re,!0);t(re),t(j),Q(()=>{E(ae,U().label),E(D,U().option15minutes),E(K,U().option20minutes),E(_e,U().option30minutes),E(me,U().option45minutes)}),De(j,()=>e(F),Je=>s(F,Je)),k(x,T)},$$slots:{default:!0}}),t(p),k(v,p)};Y(Xe,v=>{e(h)==="talk"&&v(yt)})}var Te=r(Xe,2),Ye=a(Te);w(Ye,{id:"cfp--tweet-preview"});var je=r(Ye,2);let Ze;var St=a(je);t(je),t(Te);var $e=r(Te,2);lt($e,{get body(){return e(oe)},tweetStatusChanged:v=>{s(G,v,!0)}});var Ne=r($e,2),zt=a(Ne);w(zt,{id:"cfp--section-about-you"}),t(Ne);var et=r(Ne,2);dt(et,17,()=>e(f),ft,(v,p,c)=>{var P=ga(),x=a(P),S=a(x);_(S,"for",`bio-${c}`);var U=a(S);w(U,{id:"cfp--field-bio"});var T=r(U,2);{var C=N=>{var R=ot();R.nodeValue=`(Palestrante ${c+1})`,k(N,R)};Y(T,N=>{e(f).length>1&&N(C)})}t(S);var ae=r(S,2),j=a(ae);{var W=N=>{var R=ba();R.__click=()=>ge(c),k(N,R)};Y(j,N=>{e(f).length>1&&N(W)})}var D=r(j,2);{var V=N=>{var R=ha();R.__click=[ca,f,I];var Lt=a(R);w(Lt,{id:"cfp--add-speaker"}),t(R),k(N,R)};Y(D,N=>{c===e(f).length-1&&N(V)})}t(ae),t(x);var K=r(x,2);pe(K),_(K,"name",`bio-${c}`),K.required=c===0;var $=r(K,2),_e=a($);w(_e,{id:"cfp--tweet-preview"});var re=r(_e,2);let me;var Je=a(re);t(re),t($);var Ot=r($,2);lt(Ot,{get body(){return e(le)[c]},tweetStatusChanged:N=>{e(I)[c]=N}}),t(P),Q((N,R)=>{me=he(re,1,"svelte-1c0rh5x",null,me,N),E(Je,`(${R??""}/270)`)},[()=>({"warning-limit":e(I)[c]==="warning","exceeded-limit":e(I)[c]==="exceeded"}),()=>ue(e(le)[c])]),se(K,()=>e(f)[c],N=>e(f)[c]=N),k(v,P)});var Oe=r(et,2),qt=a(Oe);w(qt,{id:"cfp--section-contacts"}),t(Oe);var Le=r(Oe,2),Fe=a(Le),Pt=a(Fe);w(Pt,{id:"cfp--field-social-medias"}),t(Fe);var tt=r(Fe,2);pe(tt),t(Le);var Ie=r(Le,2),He=a(Ie),Ct=a(He);w(Ct,{id:"cfp--field-email"}),t(He);var at=r(He,2);be(at),t(Ie);var Ue=r(Ie,2),Ge=a(Ue),Et=a(Ge);w(Et,{id:"cfp--field-notes"}),t(Ge);var rt=r(Ge,2);pe(rt),t(Ue);var st=r(Ue,2);{var At=v=>{var p=xa(),c=a(p);ra(c,{get status(){return e(g).status},get message(){return e(g).message}}),t(p),k(v,p)};Y(st,v=>{(e(g).status==="success"||e(g).status==="error")&&v(At)})}var fe=r(st,2),Bt=a(fe);{var Mt=v=>{Zt(v,{color:"white",size:16})},Tt=(v,p)=>{{var c=x=>{w(x,{id:"cfp--update"})},P=x=>{w(x,{id:"cfp--submit"})};Y(v,x=>{e(o)?x(c):x(P,!1)},p)}};Y(Bt,v=>{var p;((p=e(g))==null?void 0:p.status)==="submitting"?v(Mt):v(Tt,!1)})}t(fe);var jt=r(fe,2);{var Nt=v=>{var p=wa();p.__click=[ua,o,m,u,b,h,d,y,F,B,f,I,M,z,L,g];var c=a(p);w(c,{id:"cfp--clear-form"}),t(p),k(v,p)};Y(jt,v=>{e(m)&&v(Nt)})}t(n),Q((v,p)=>{var c;Ze=he(je,1,"svelte-1c0rh5x",null,Ze,v),E(St,`(${p??""}/270)`),fe.disabled=((c=e(g))==null?void 0:c.status)==="submitting"},[()=>({"warning-limit":e(G)==="warning","exceeded-limit":e(G)==="exceeded"}),()=>ue(e(oe))]),Ut("submit",n,xe),se(ze,()=>e(u),v=>s(u,v)),se(Ke,()=>e(d),v=>s(d,v)),se(Qe,()=>e(y),v=>s(y,v)),se(tt,()=>e(M),v=>s(M,v)),se(at,()=>e(z),v=>s(z,v)),se(rt,()=>e(L),v=>s(L,v)),k(J,n)}}),t(X),k(i,X),ct()}Ht(["click"]);export{Oa as component};
