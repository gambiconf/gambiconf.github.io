import{o as lt,p as Ft,l as Ut,b as M,a as T,s as z,k as Wt,t as Dt,d as Gt,r as fe,q as Jt}from"../chunks/DziMoUHv.js";import{t as L,h as nt,k as ot,A as Yt,aM as Kt,o as vt,O as Qt,aI as Vt,aH as Xt,s as Zt,j as pe,e as ct,aN as $t,l as ea,a1 as a,a2 as t,a3 as r,g as e,b as J,p as ft,T as ta,a4 as O,a7 as i,a as pt,f as oe,a5 as aa}from"../chunks/CD1yeb4j.js";import{p as U,i as Z}from"../chunks/Cr850htK.js";import{b as me,a as _t,d as sa,s as g,r as _e}from"../chunks/Cr9MqyqS.js";import{b as V}from"../chunks/BngZGlYa.js";import{o as ra}from"../chunks/TYV9lbj6.js";import{L as S}from"../chunks/DQiX8uJS.js";import"../chunks/DwqMzsuE.js";import{e as ia,i as la}from"../chunks/DP2AB7yM.js";import{a as X}from"../chunks/B0XU32y-.js";import{W as na}from"../chunks/BrSMdW1E.js";import{t as We}from"../chunks/C0GVvPMB.js";function oa(l,s,n=!1,d=!1,u=!1){var f=l,_="";L(()=>{var v=Yt;if(_===(_=s()??"")){nt&&ot();return}if(v.nodes_start!==null&&(Kt(v.nodes_start,v.nodes_end),v.nodes_start=v.nodes_end=null),_!==""){if(nt){vt.data;for(var c=ot(),q=c;c!==null&&(c.nodeType!==8||c.data!=="");)q=c,c=Qt(c);if(c===null)throw Vt(),Xt;lt(vt,q),f=Zt(c);return}var h=_+"";n?h=`<svg>${h}</svg>`:d&&(h=`<math>${h}</math>`);var p=Ft(h);if((n||d)&&(p=pe(p)),lt(pe(p),p.lastChild),n||d)for(;pe(p);)f.before(pe(p));else f.before(p)}})}function mt(l,s,n){if(l.multiple)return ua(l,s);for(var d of l.options){var u=ue(d);if($t(u,s)){d.selected=!0;return}}(!n||s!==void 0)&&(l.selectedIndex=-1)}function va(l,s){ct(()=>{var n=new MutationObserver(()=>{var d=l.__value;mt(l,d)});return n.observe(l,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function De(l,s,n=s){var d=!0;Ut(l,"change",u=>{var f=u?"[selected]":":checked",_;if(l.multiple)_=[].map.call(l.querySelectorAll(f),ue);else{var v=l.querySelector(f)??l.querySelector("option:not([disabled])");_=v&&ue(v)}n(_)}),ct(()=>{var u=s();if(mt(l,u,d),d&&u===void 0){var f=l.querySelector(":checked");f!==null&&(u=ue(f),n(u))}l.__value=u,d=!1}),va(l)}function ua(l,s){for(var n of l.options)n.selected=~s.indexOf(ue(n))}function ue(l){return"__value"in l?l.__value:l.value}var da=M("<div></div>");function ca(l,s){let n=U(s,"color",8,"#FF3E00"),d=U(s,"unit",8,"px"),u=U(s,"duration",8,"0.75s"),f=U(s,"size",8,"60"),_=U(s,"pause",8,!1);var v=da();let c;L(q=>{c=me(v,1,"circle svelte-dqjlks",null,c,q),_t(v,`--size: ${f()??""}${d()??""}; --color: ${n()??""}; --duration: ${u()??""}`)},[()=>({"pause-animation":_()})],ea),T(l,v)}const fa=async l=>{const s=await fetch(`https://n48djewxre.execute-api.us-east-1.amazonaws.com/submissions/${l}`);return s.status!==200?!1:await s.json()},pa=async l=>{const s=await fetch("https://n48djewxre.execute-api.us-east-1.amazonaws.com/submissions",{method:"POST",body:JSON.stringify(l)});return s.status!==200?!1:await s.json()},_a=async l=>(await fetch(`https://n48djewxre.execute-api.us-east-1.amazonaws.com/submissions/${l.id}`,{method:"PUT",body:JSON.stringify(l)})).status===200;var ma=M("<div> </div>");function ba(l,s){var n=ma(),d=a(n,!0);t(n),L(()=>{me(n,1,sa(s.status),"svelte-1xenq6d"),z(d,s.message)}),T(l,n)}const ve=l=>Array.from(l).map(s=>new RegExp("\\p{Extended_Pictographic}","u").test(s)?2:1).reduce((s,n)=>s+n,0);var ga=Wt('<svg><circle></circle><circle class="rotate svelte-1dztmlr"></circle><svg><circle fill="white"></circle></svg></svg>');function ha(l,s){let n=U(s,"size",3,100),d=U(s,"percent",3,0),u=U(s,"bgColor",3,"#304BA5"),f=U(s,"fgColor",3,"#E5E5E5"),_=J(()=>`0 0 ${n()} ${n()}`),v=J(()=>n()/2),c=J(()=>Math.PI*e(v)),q=J(()=>e(c)*(d()/100)),h=J(()=>`0 ${e(c)-e(q)} ${e(q)}`);var p=ga(),C=a(p),y=r(C),A=r(y),j=a(A);t(A),t(p),L(()=>{g(p,"width",n()),g(p,"height",n()),g(p,"viewBox",e(_)),g(C,"r",e(v)),g(C,"cx",e(v)),g(C,"cy",e(v)),g(C,"fill",f()),g(y,"r",e(v)/2),g(y,"cx",e(v)),g(y,"cy",e(v)),g(y,"stroke",u()),g(y,"stroke-width",e(v)),g(y,"stroke-dasharray",e(h)),g(A,"x",n()*.1),g(A,"y",n()*.1),g(j,"r",e(v)*.8),g(j,"cx",e(v)*.8),g(j,"cy",e(v)*.8)}),T(l,p)}var xa=M("<br>"),wa=M('<span class="tweet-handler svelte-fkt1zm"> </span>'),ka=M("<!> <!>",1),ya=M('<div class="tweet svelte-fkt1zm"><div class="profile-pic svelte-fkt1zm"></div> <div class="content svelte-fkt1zm"><div class="header svelte-fkt1zm"><div class="meta svelte-fkt1zm"><span class="nickname svelte-fkt1zm">GambiConf</span> <span class="handle svelte-fkt1zm">@gambiconf <span class="date-separator svelte-fkt1zm">Â·</span></span> <span class="date svelte-fkt1zm">July 1, 2022</span></div> <img class="ellipsis svelte-fkt1zm" alt="Ellipsis"></div> <div class="text svelte-fkt1zm"></div> <div class="icons svelte-fkt1zm"><img alt="Comment" class="svelte-fkt1zm"> <img alt="Retweet" class="svelte-fkt1zm"> <img alt="Favorite" class="svelte-fkt1zm"> <img alt="Info" class="svelte-fkt1zm"> <img alt="Stats" class="svelte-fkt1zm"> <!></div></div></div>');function ut(l,s){ft(s,!0);let n=U(s,"body",3,""),d=J(()=>ve(n())*100/270),u=O("ok");ta(()=>{var Y,x,K;e(d)>100&&e(u)!=="exceeded"?(i(u,"exceeded"),(Y=s.tweetStatusChanged)==null||Y.call(s,e(u))):e(d)>75&&e(d)<=100&&e(u)!=="warning"?(i(u,"warning"),(x=s.tweetStatusChanged)==null||x.call(s,e(u))):e(d)<=75&&e(u)!=="ok"&&(i(u,"ok"),(K=s.tweetStatusChanged)==null||K.call(s,e(u)))});var f=ya(),_=a(f);_t(_,`background-image: url(${`${X}/tweet/avatar.png`})`);var v=r(_,2),c=a(v),q=r(a(c),2);g(q,"src",`${X}/tweet/ellipsis.svg`),t(c);var h=r(c,2);ia(h,21,()=>n().split(/(\s)/),la,(Y,x)=>{var K=ka(),ae=oe(K);{var be=Q=>{var re=xa();T(Q,re)},ge=(Q,re)=>{{var ee=m=>{var F=wa(),he=a(F,!0);t(F),L(()=>z(he,e(x))),T(m,F)},H=m=>{var F=Dt();L(()=>z(F,e(x))),T(m,F)};Z(Q,m=>{e(x)[0]==="@"?m(ee):m(H,!1)},re)}};Z(ae,Q=>{e(x)===`
`?Q(be):Q(ge,!1)})}var se=r(ae,2);oa(se,()=>" "),T(Y,K)}),t(h);var p=r(h,2),C=a(p);g(C,"src",`${X}/tweet/comment.svg`);var y=r(C,2);g(y,"src",`${X}/tweet/retweet.svg`);var A=r(y,2);g(A,"src",`${X}/tweet/favorite.svg`);var j=r(A,2);g(j,"src",`${X}/tweet/info.svg`);var $=r(j,2);g($,"src",`${X}/tweet/stats.svg`);var te=r($,2);ha(te,{size:24,get percent(){return e(d)},get bgColor(){return{exceeded:"red",warning:"#ff7720",ok:"#304BA5"}[e(u)]}}),t(p),t(v),t(f),T(l,f),pt()}const dt=l=>l?l[0].toUpperCase()+l.slice(1):"",Sa=(l,s,n,d,u,f,_,v,c,q,h,p,C,y,A)=>{i(s,""),i(n,!1),i(d,""),i(u,""),i(f,""),i(_,""),i(v,""),i(c,""),i(q,""),i(h,""),i(p,""),i(C,""),i(y,""),i(A,{status:"idle"},!0);const j=new URL(window.location.toString());j.searchParams.delete("id"),window.history.pushState(null,"",j.toString())};var za=M('<label for="name" class="svelte-19xptar"> </label> <input name="name" type="text">',1),qa=M('<label for="language" class="svelte-19xptar"> </label> <select name="language" required><option> </option><option> </option><option> </option></select>',1),Ca=M('<label for="type" class="svelte-19xptar"> </label> <select name="type" required><option> </option><option> </option></select> <label for="type" class="sublabel svelte-19xptar"> </label>',1),Pa=M('<label for="duration" class="svelte-19xptar"> </label> <select name="duration" required><option> </option><option> </option><option> </option><option> </option></select>',1),Ea=M('<div class="field svelte-19xptar"><!></div>'),Oa=M('<div class="alert-wrapper svelte-19xptar"><!></div>'),Ta=M('<button type="submit" class="outline svelte-19xptar"><!></button>'),Aa=M(`<form class="svelte-19xptar"><h4 class="svelte-19xptar"><!></h4> <div class="field svelte-19xptar"><label for="name" class="svelte-19xptar"><!></label> <input name="name" type="text" required></div> <div class="field svelte-19xptar"><!></div> <div class="field svelte-19xptar"><!></div> <div class="field svelte-19xptar"><!></div> <div class="field svelte-19xptar"><label for="title" class="svelte-19xptar"><!></label> <input name="title" type="text" required></div> <div class="field svelte-19xptar"><label for="description" class="svelte-19xptar"><!></label> <textarea name="description" rows="4" required></textarea></div> <!> <span><!> <span> </span></span> <!> <h4 class="svelte-19xptar"><!></h4> <div class="field svelte-19xptar"><label for="bio" class="svelte-19xptar"><!></label> <textarea name="bio" rows="4" required></textarea></div> <span><!> <span> </span></span> <!> <h4 class="svelte-19xptar"><!></h4> <div class="field svelte-19xptar"><label for="social" class="svelte-19xptar"><!></label> <textarea name="social" placeholder="GitHub: macabeus
Stack Overflow: macabeus
..." rows="3" required></textarea></div> <div class="field svelte-19xptar"><label for="email" class="svelte-19xptar"><!></label> <input name="email" type="email" required></div> <div class="field svelte-19xptar"><label for="email" class="svelte-19xptar"><!></label> <textarea name="notes" rows="3"></textarea></div> <!> <button type="submit" class="svelte-19xptar"><!></button> <!></form>`),Na=M('<div class="page svelte-19xptar"><!></div>');function Ja(l,s){ft(s,!0);let n=O(""),d=O(!1),u=O(""),f=O(""),_=O(""),v=O(""),c=O(""),q=O(""),h=O(""),p=O(""),C=O(""),y=O(""),A=O(""),j=O("ok"),$=O("ok"),te=J(()=>e(h)==="only_english"?`${dt(e(_))} "${e(v)}" by ${e(f)||e(u)} (in ðŸ‡ºðŸ‡¸)

${e(c)}`:`${dt(e(_))} "${e(v)}" por ${e(f)||e(u)}

${e(c)}`),Y=J(()=>e(h)==="only_english"?`About the speaker:
${e(p)}`:`Sobre o palestrante:
${e(p)}`),x=O(aa({status:"idle"}));const K=We("cfp--submit-success"),ae=We("cfp--submit-error"),be=async ee=>{if(ee.preventDefault(),ve(e(te))>270){i(x,{status:"error",message:"Tweet talk exceeds 270 characters"},!0);return}if(ve(e(Y))>270){i(x,{status:"error",message:"Tweet bio exceeds 270 characters"},!0);return}if(i(x,{status:"submitting"},!0),e(n))await _a({id:e(n),speakerName:e(u),twitterHandler:e(f),type:e(_),title:e(v),description:e(c),duration:Number(e(q)),language:e(h),speakerBio:e(p),speakerSocialMedias:e(C),speakerEmail:e(y),notes:e(A)})?i(x,{status:"success",message:K},!0):i(x,{status:"error",message:ae},!0);else{const H=await pa({speakerName:e(u),twitterHandler:e(f),type:e(_),title:e(v),description:e(c),duration:Number(e(q)),language:e(h),speakerBio:e(p),speakerSocialMedias:e(C),speakerEmail:e(y),notes:e(A)});if(H){i(d,!0),i(n,H.id,!0);const m=new URL(window.location.toString());m.searchParams.set("id",H.id),window.history.pushState(null,"",m.toString()),i(x,{status:"success",message:K},!0)}else i(x,{status:"error",message:ae},!0)}},ge=async()=>{const H=new URLSearchParams(window.location.search).get("id");if(H){i(n,H,!0);const m=await fa(H);if(!m){window.alert("We could not load a submission with the given id. Please, report the issue by sending us an email (mambi@gambiconf.dev) or opening an issue on https://github.com/gambiconf/gambiconf.github.io");return}i(u,m.speakerName,!0),i(f,m.twitterHandler,!0),i(_,m.type,!0),i(v,m.title,!0),i(c,m.description,!0),i(q,`${m.duration}`),i(h,m.language,!0),i(p,m.speakerBio,!0),i(C,m.speakerSocialMedias,!0),i(y,m.speakerEmail,!0),i(A,m.notes,!0)}};ra(()=>{ge()});var se=Na(),Q=a(se);const re=J(()=>We("cfp--title"));na(Q,{get title(){return e(re)},children:(ee,H)=>{var m=Aa(),F=a(m),he=a(F);S(he,{id:"cfp--section-main"}),t(F);var xe=r(F,2),we=a(xe),bt=a(we);S(bt,{id:"cfp--field-name"}),t(we);var Ge=r(we,2);_e(Ge),t(xe);var ke=r(xe,2),gt=a(ke);S(gt,{id:"cfp--field-twitter-handler",children:(b,w)=>{let P=()=>w==null?void 0:w().attrs;var k=za(),N=oe(k),I=a(N,!0);t(N);var B=r(N,2);_e(B),L(()=>{z(I,P().label),g(B,"placeholder",P().placeholder)}),V(B,()=>e(f),E=>i(f,E)),T(b,k)},$$slots:{default:!0}}),t(ke);var ye=r(ke,2),ht=a(ye);S(ht,{id:"cfp--field-language",children:(b,w)=>{let P=()=>w==null?void 0:w().attrs;var k=qa(),N=oe(k),I=a(N,!0);t(N);var B=r(N,2),E=a(B);E.value=E.__value="only_portuguese";var ie=a(E,!0);t(E);var R=r(E);R.value=R.__value="only_english";var W=a(R,!0);t(R);var D=r(R);D.value=D.__value="portuguese_or_english";var G=a(D,!0);t(D),t(B),L(()=>{z(I,P().label),z(ie,P().optionPortuguese),z(W,P().optionEnglish),z(G,P().optionPortugueseOrEnglish)}),De(B,()=>e(h),le=>i(h,le)),T(b,k)},$$slots:{default:!0}}),t(ye);var Se=r(ye,2),xt=a(Se);S(xt,{id:"cfp--field-type",children:(b,w)=>{let P=()=>w==null?void 0:w().attrs;var k=Ca(),N=oe(k),I=a(N,!0);t(N);var B=r(N,2),E=a(B);E.value=E.__value="talk";var ie=a(E,!0);t(E);var R=r(E);R.value=R.__value="workshop";var W=a(R,!0);t(R),t(B);var D=r(B,2),G=a(D,!0);t(D),L(()=>{z(I,P().label),z(ie,P().optionTalk),z(W,P().optionWorkshop),z(G,P().sublabel)}),De(B,()=>e(_),le=>i(_,le)),T(b,k)},$$slots:{default:!0}}),t(Se);var ze=r(Se,2),qe=a(ze),wt=a(qe);S(wt,{id:"cfp--field-title"}),t(qe);var Je=r(qe,2);_e(Je),t(ze);var Ce=r(ze,2),Pe=a(Ce),kt=a(Pe);S(kt,{id:"cfp--field-description"}),t(Pe);var Ye=r(Pe,2);fe(Ye),t(Ce);var Ke=r(Ce,2);{var yt=o=>{var b=Ea(),w=a(b);S(w,{id:"cfp--field-ideal-duration",children:(k,N)=>{let I=()=>N==null?void 0:N().attrs;var B=Pa(),E=oe(B),ie=a(E,!0);t(E);var R=r(E,2),W=a(R);W.value=W.__value="15";var D=a(W,!0);t(W);var G=r(W);G.value=G.__value="20";var le=a(G,!0);t(G);var ne=r(G);ne.value=ne.__value="30";var Ht=a(ne,!0);t(ne);var ce=r(ne);ce.value=ce.__value="45";var It=a(ce,!0);t(ce),t(R),L(()=>{z(ie,I().label),z(D,I().option15minutes),z(le,I().option20minutes),z(Ht,I().option30minutes),z(It,I().option45minutes)}),De(R,()=>e(q),Lt=>i(q,Lt)),T(k,B)},$$slots:{default:!0}}),t(b),T(o,b)};Z(Ke,o=>{e(_)==="talk"&&o(yt)})}var Ee=r(Ke,2),Qe=a(Ee);S(Qe,{id:"cfp--tweet-preview"});var Oe=r(Qe,2);let Ve;var St=a(Oe);t(Oe),t(Ee);var Xe=r(Ee,2);ut(Xe,{get body(){return e(te)},tweetStatusChanged:o=>{i(j,o,!0)}});var Te=r(Xe,2),zt=a(Te);S(zt,{id:"cfp--section-about-you"}),t(Te);var Ae=r(Te,2),Ne=a(Ae),qt=a(Ne);S(qt,{id:"cfp--field-bio"}),t(Ne);var Ze=r(Ne,2);fe(Ze),t(Ae);var Be=r(Ae,2),$e=a(Be);S($e,{id:"cfp--tweet-preview"});var Me=r($e,2);let et;var Ct=a(Me);t(Me),t(Be);var tt=r(Be,2);ut(tt,{get body(){return e(Y)},tweetStatusChanged:o=>{i($,o,!0)}});var Re=r(tt,2),Pt=a(Re);S(Pt,{id:"cfp--section-contacts"}),t(Re);var je=r(Re,2),He=a(je),Et=a(He);S(Et,{id:"cfp--field-social-medias"}),t(He);var at=r(He,2);fe(at),t(je);var Ie=r(je,2),Le=a(Ie),Ot=a(Le);S(Ot,{id:"cfp--field-email"}),t(Le);var st=r(Le,2);_e(st),t(Ie);var Fe=r(Ie,2),Ue=a(Fe),Tt=a(Ue);S(Tt,{id:"cfp--field-notes"}),t(Ue);var rt=r(Ue,2);fe(rt),t(Fe);var it=r(Fe,2);{var At=o=>{var b=Oa(),w=a(b);ba(w,{get status(){return e(x).status},get message(){return e(x).message}}),t(b),T(o,b)};Z(it,o=>{(e(x).status==="success"||e(x).status==="error")&&o(At)})}var de=r(it,2),Nt=a(de);{var Bt=o=>{ca(o,{color:"white",size:16})},Mt=(o,b)=>{{var w=k=>{S(k,{id:"cfp--update"})},P=k=>{S(k,{id:"cfp--submit"})};Z(o,k=>{e(n)?k(w):k(P,!1)},b)}};Z(Nt,o=>{var b;((b=e(x))==null?void 0:b.status)==="submitting"?o(Bt):o(Mt,!1)})}t(de);var Rt=r(de,2);{var jt=o=>{var b=Ta();b.__click=[Sa,n,d,u,f,_,v,c,q,h,p,C,y,A,x];var w=a(b);S(w,{id:"cfp--clear-form"}),t(b),T(o,b)};Z(Rt,o=>{e(d)&&o(jt)})}t(m),L((o,b,w,P)=>{var k;Ve=me(Oe,1,"svelte-19xptar",null,Ve,o),z(St,`(${b??""}/270)`),et=me(Me,1,"svelte-19xptar",null,et,w),z(Ct,`(${P??""}/270)`),de.disabled=((k=e(x))==null?void 0:k.status)==="submitting"},[()=>({"warning-limit":e(j)==="warning","exceeded-limit":e(j)==="exceeded"}),()=>ve(e(te)),()=>({"warning-limit":e($)==="warning","exceeded-limit":e($)==="exceeded"}),()=>ve(e(Y))]),Jt("submit",m,be),V(Ge,()=>e(u),o=>i(u,o)),V(Je,()=>e(v),o=>i(v,o)),V(Ye,()=>e(c),o=>i(c,o)),V(Ze,()=>e(p),o=>i(p,o)),V(at,()=>e(C),o=>i(C,o)),V(st,()=>e(y),o=>i(y,o)),V(rt,()=>e(A),o=>i(A,o)),T(ee,m)}}),t(se),T(l,se),pt()}Gt(["click"]);export{Ja as component};
