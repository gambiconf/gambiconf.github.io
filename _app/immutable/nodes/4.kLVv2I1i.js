import{l as Nt,e as T,d as E,s as S,p as Tt,t as Lt,f as jt,r as me,q as It}from"../chunks/BDWvENjW.js";import{n as it,aM as Ft,t as G,I as Ht,G as a,J as t,K as s,l as e,m as K,p as lt,v as Ut,L as C,O as r,k as nt,j as ve,M as Gt}from"../chunks/CYZ8Y5j3.js";import{p as J,i as $}from"../chunks/uTCjkibE.js";import{b as be,a as ot,d as Jt,s as p,e as Rt,i as Wt,r as _e}from"../chunks/Cyd8y1Qv.js";import{b as X}from"../chunks/B6wjNn6o.js";import{o as Dt}from"../chunks/2vkrJXLX.js";import{L as y}from"../chunks/BUceSihb.js";import"../chunks/DvqKx5Ki.js";import{h as Kt}from"../chunks/C__VBDye.js";import{a as Z}from"../chunks/pjIWQTkC.js";import{W as Qt}from"../chunks/T8hlcOVH.js";import{t as oe}from"../chunks/CLqdMfrr.js";function vt(l,i,n){if(l.multiple)return Xt(l,i);for(var d of l.options){var v=de(d);if(Ft(v,i)){d.selected=!0;return}}(!n||i!==void 0)&&(l.selectedIndex=-1)}function Vt(l,i){it(()=>{var n=new MutationObserver(()=>{var d=l.__value;vt(l,d)});return n.observe(l,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function Ue(l,i,n=i){var d=!0;Nt(l,"change",v=>{var f=v?"[selected]":":checked",m;if(l.multiple)m=[].map.call(l.querySelectorAll(f),de);else{var u=l.querySelector(f)??l.querySelector("option:not([disabled])");m=u&&de(u)}n(m)}),it(()=>{var v=i();if(vt(l,v,d),d&&v===void 0){var f=l.querySelector(":checked");f!==null&&(v=de(f),n(v))}l.__value=v,d=!1}),Vt(l)}function Xt(l,i){for(var n of l.options)n.selected=~i.indexOf(de(n))}function de(l){return"__value"in l?l.__value:l.value}var Yt=T("<div></div>");function Zt(l,i){let n=J(i,"color",8,"#FF3E00"),d=J(i,"unit",8,"px"),v=J(i,"duration",8,"0.75s"),f=J(i,"size",8,"60"),m=J(i,"pause",8,!1);var u=Yt();let x;G(A=>{x=be(u,1,"circle svelte-dqjlks",null,x,A),ot(u,`--size: ${f()??""}${d()??""}; --color: ${n()??""}; --duration: ${v()??""}`)},[()=>({"pause-animation":m()})],Ht),E(l,u)}const $t=async l=>{const i=await fetch(`https://n48djewxre.execute-api.us-east-1.amazonaws.com/submissions/${l}`);return i.status!==200?!1:await i.json()},ea=async l=>{const i=await fetch("https://n48djewxre.execute-api.us-east-1.amazonaws.com/submissions",{method:"POST",body:JSON.stringify(l)});return i.status!==200?!1:await i.json()},ta=async l=>(await fetch(`https://n48djewxre.execute-api.us-east-1.amazonaws.com/submissions/${l.id}`,{method:"PUT",body:JSON.stringify(l)})).status===200;var aa=T("<div> </div>");function sa(l,i){var n=aa(),d=a(n,!0);t(n),G(()=>{be(n,1,Jt(i.status),"svelte-1xenq6d"),S(d,i.message)}),E(l,n)}const ue=l=>Array.from(l).map(i=>new RegExp("\\p{Extended_Pictographic}","u").test(i)?2:1).reduce((i,n)=>i+n,0);var ra=Tt('<svg><circle></circle><circle class="rotate svelte-1dztmlr"></circle><svg><circle fill="white"></circle></svg></svg>');function ia(l,i){let n=J(i,"size",3,100),d=J(i,"percent",3,0),v=J(i,"bgColor",3,"#304BA5"),f=J(i,"fgColor",3,"#E5E5E5"),m=K(()=>`0 0 ${n()} ${n()}`),u=K(()=>n()/2),x=K(()=>Math.PI*e(u)),A=K(()=>e(x)*(d()/100)),B=K(()=>`0 ${e(x)-e(A)} ${e(A)}`);var h=ra(),z=a(h),k=s(z),O=s(k),j=a(O);t(O),t(h),G(()=>{p(h,"width",n()),p(h,"height",n()),p(h,"viewBox",e(m)),p(z,"r",e(u)),p(z,"cx",e(u)),p(z,"cy",e(u)),p(z,"fill",f()),p(k,"r",e(u)/2),p(k,"cx",e(u)),p(k,"cy",e(u)),p(k,"stroke",v()),p(k,"stroke-width",e(u)),p(k,"stroke-dasharray",e(B)),p(O,"x",n()*.1),p(O,"y",n()*.1),p(j,"r",e(u)*.8),p(j,"cx",e(u)*.8),p(j,"cy",e(u)*.8)}),E(l,h)}var la=T("<br>"),na=T('<span class="tweet-handler svelte-fkt1zm"> </span>'),oa=T("<!> <!>",1),va=T('<div class="tweet svelte-fkt1zm"><div class="profile-pic svelte-fkt1zm"></div> <div class="content svelte-fkt1zm"><div class="header svelte-fkt1zm"><div class="meta svelte-fkt1zm"><span class="nickname svelte-fkt1zm">GambiConf</span> <span class="handle svelte-fkt1zm">@gambiconf <span class="date-separator svelte-fkt1zm">Â·</span></span> <span class="date svelte-fkt1zm">July 1, 2022</span></div> <img class="ellipsis svelte-fkt1zm" alt="Ellipsis"></div> <div class="text svelte-fkt1zm"></div> <div class="icons svelte-fkt1zm"><img alt="Comment" class="svelte-fkt1zm"> <img alt="Retweet" class="svelte-fkt1zm"> <img alt="Favorite" class="svelte-fkt1zm"> <img alt="Info" class="svelte-fkt1zm"> <img alt="Stats" class="svelte-fkt1zm"> <!></div></div></div>');function st(l,i){lt(i,!0);let n=J(i,"body",3,""),d=K(()=>ue(n())*100/270),v=C("ok");Ut(()=>{var Q,_,Y;e(d)>100&&e(v)!=="exceeded"?(r(v,"exceeded"),(Q=i.tweetStatusChanged)==null||Q.call(i,e(v))):e(d)>75&&e(d)<=100&&e(v)!=="warning"?(r(v,"warning"),(_=i.tweetStatusChanged)==null||_.call(i,e(v))):e(d)<=75&&e(v)!=="ok"&&(r(v,"ok"),(Y=i.tweetStatusChanged)==null||Y.call(i,e(v)))});var f=va(),m=a(f);ot(m,`background-image: url(${`${Z}/tweet/avatar.png`})`);var u=s(m,2),x=a(u),A=s(a(x),2);p(A,"src",`${Z}/tweet/ellipsis.svg`),t(x);var B=s(x,2);Rt(B,21,()=>n().split(/(\s)/),Wt,(Q,_)=>{var Y=oa(),ce=ve(Y);{var ae=F=>{var I=la();E(F,I)},ge=(F,I)=>{{var b=V=>{var U=na(),re=a(U,!0);t(U),G(()=>S(re,e(_))),E(V,U)},se=V=>{var U=Lt();G(()=>S(U,e(_))),E(V,U)};$(F,V=>{e(_)[0]==="@"?V(b):V(se,!1)},I)}};$(ce,F=>{e(_)===`
`?F(ae):F(ge,!1)})}var xe=s(ce,2);Kt(xe,()=>" "),E(Q,Y)}),t(B);var h=s(B,2),z=a(h);p(z,"src",`${Z}/tweet/comment.svg`);var k=s(z,2);p(k,"src",`${Z}/tweet/retweet.svg`);var O=s(k,2);p(O,"src",`${Z}/tweet/favorite.svg`);var j=s(O,2);p(j,"src",`${Z}/tweet/info.svg`);var ee=s(j,2);p(ee,"src",`${Z}/tweet/stats.svg`);var te=s(ee,2);ia(te,{size:24,get percent(){return e(d)},get bgColor(){return{exceeded:"red",warning:"#ff7720",ok:"#304BA5"}[e(v)]}}),t(h),t(u),t(f),E(l,f),nt()}const rt=l=>l?l[0].toUpperCase()+l.slice(1):"",ua=(l,i,n,d,v,f,m,u,x,A,B,h,z,k,O)=>{r(i,""),r(n,!1),r(d,""),r(v,""),r(f,""),r(m,""),r(u,""),r(x,""),r(A,""),r(B,""),r(h,""),r(z,""),r(k,""),r(O,{status:"idle"},!0);const j=new URL(window.location.toString());j.searchParams.delete("id"),window.history.pushState(null,"",j.toString())};var da=T('<label for="name" class="svelte-19xptar"> </label> <input name="name" type="text">',1),ca=T('<label for="language" class="svelte-19xptar"> </label> <select name="language" required><option> </option><option> </option><option> </option></select>',1),pa=T('<label for="type" class="svelte-19xptar"> </label> <select name="type" required><option> </option><option> </option></select> <label for="type" class="sublabel svelte-19xptar"> </label>',1),fa=T('<label for="duration" class="svelte-19xptar"> </label> <select name="duration" required><option> </option><option> </option><option> </option><option> </option></select>',1),ma=T('<div class="field svelte-19xptar"><!></div>'),_a=T('<div class="alert-wrapper svelte-19xptar"><!></div>'),ba=T('<button type="submit" class="outline svelte-19xptar"><!></button>'),ga=T('<form class="svelte-19xptar"><h4 class="svelte-19xptar"><!></h4> <div class="field svelte-19xptar"><label for="name" class="svelte-19xptar"><!></label> <input name="name" type="text" required></div> <div class="field svelte-19xptar"><!></div> <div class="field svelte-19xptar"><!></div> <div class="field svelte-19xptar"><!></div> <div class="field svelte-19xptar"><label for="title" class="svelte-19xptar"><!></label> <input name="title" type="text" required></div> <div class="field svelte-19xptar"><label for="description" class="svelte-19xptar"><!></label> <textarea name="description" rows="4" required></textarea></div> <!> <span><!> <span> </span></span> <!> <h4 class="svelte-19xptar"><!></h4> <div class="field svelte-19xptar"><label for="bio" class="svelte-19xptar"><!></label> <textarea name="bio" rows="4" required></textarea></div> <span><!> <span> </span></span> <!> <h4 class="svelte-19xptar"><!></h4> <div class="field svelte-19xptar"><label for="social" class="svelte-19xptar"><!></label> <textarea name="social" placeholder="GitHub: macabeus\\nStack Overflow: macabeus\\n..." rows="3" required></textarea></div> <div class="field svelte-19xptar"><label for="email" class="svelte-19xptar"><!></label> <input name="email" type="email" required></div> <div class="field svelte-19xptar"><label for="email" class="svelte-19xptar"><!></label> <textarea name="notes" rows="3"></textarea></div> <!> <button type="submit" class="svelte-19xptar"><!></button> <!></form>'),xa=T('<div class="page svelte-19xptar"><!></div>');function Aa(l,i){lt(i,!0);let n=C(""),d=C(!1),v=C(""),f=C(""),m=C(""),u=C(""),x=C(""),A=C(""),B=C(""),h=C(""),z=C(""),k=C(""),O=C(""),j=C("ok"),ee=C("ok"),te=K(()=>e(B)==="only_english"?`${rt(e(m))} "${e(u)}" by ${e(f)||e(v)} (in ðŸ‡ºðŸ‡¸)

${e(x)}`:`${rt(e(m))} "${e(u)}" por ${e(f)||e(v)}

${e(x)}`),Q=K(()=>e(B)==="only_english"?`About the speaker:
${e(h)}`:`Sobre o palestrante:
${e(h)}`),_=C(Gt({status:"idle"}));const Y=async F=>{if(F.preventDefault(),ue(e(te))>270){r(_,{status:"error",message:"Tweet talk exceeds 270 characters"},!0);return}if(ue(e(Q))>270){r(_,{status:"error",message:"Tweet bio exceeds 270 characters"},!0);return}if(r(_,{status:"submitting"},!0),e(n))await ta({id:e(n),speakerName:e(v),twitterHandler:e(f),type:e(m),title:e(u),description:e(x),duration:Number(e(A)),language:e(B),speakerBio:e(h),speakerSocialMedias:e(z),speakerEmail:e(k),notes:e(O)})?r(_,{status:"success",message:oe("cfp--submit-success")},!0):r(_,{status:"error",message:oe("cfp--submit-error")},!0);else{const I=await ea({speakerName:e(v),twitterHandler:e(f),type:e(m),title:e(u),description:e(x),duration:Number(e(A)),language:e(B),speakerBio:e(h),speakerSocialMedias:e(z),speakerEmail:e(k),notes:e(O)});if(I){r(d,!0),r(n,I.id,!0);const b=new URL(window.location.toString());b.searchParams.set("id",I.id),window.history.pushState(null,"",b.toString()),r(_,{status:"success",message:oe("cfp--submit-success")},!0)}else r(_,{status:"error",message:oe("cfp--submit-error")},!0)}},ce=async()=>{const I=new URLSearchParams(window.location.search).get("id");if(I){r(n,I,!0);const b=await $t(I);if(!b){window.alert("We could not load a submission with the given id. Please, report the issue by sending us an email (mambi@gambiconf.dev) or opening an issue on https://github.com/gambiconf/gambiconf.github.io");return}r(v,b.speakerName,!0),r(f,b.twitterHandler,!0),r(m,b.type,!0),r(u,b.title,!0),r(x,b.description,!0),r(A,`${b.duration}`),r(B,b.language,!0),r(h,b.speakerBio,!0),r(z,b.speakerSocialMedias,!0),r(k,b.speakerEmail,!0),r(O,b.notes,!0)}};Dt(()=>{ce()});var ae=xa(),ge=a(ae);const xe=K(()=>oe("cfp--title"));Qt(ge,{get title(){return e(xe)},children:(F,I)=>{var b=ga(),se=a(b),V=a(se);y(V,{id:"cfp--section-main"}),t(se);var U=s(se,2),re=a(U),ut=a(re);y(ut,{id:"cfp--field-name"}),t(re);var Ge=s(re,2);_e(Ge),t(U);var he=s(U,2),dt=a(he);y(dt,{id:"cfp--field-twitter-handler",children:(c,g)=>{let q=()=>g==null?void 0:g().attrs;var w=da(),M=ve(w),H=a(M,!0);t(M);var N=s(M,2);_e(N),G(()=>{S(H,q().label),p(N,"placeholder",q().placeholder)}),X(N,()=>e(f),P=>r(f,P)),E(c,w)},$$slots:{default:!0}}),t(he);var we=s(he,2),ct=a(we);y(ct,{id:"cfp--field-language",children:(c,g)=>{let q=()=>g==null?void 0:g().attrs;var w=ca(),M=ve(w),H=a(M,!0);t(M);var N=s(M,2),P=a(N);P.value=P.__value="only_portuguese";var ie=a(P,!0);t(P);var L=s(P);L.value=L.__value="only_english";var R=a(L,!0);t(L);var W=s(L);W.value=W.__value="portuguese_or_english";var D=a(W,!0);t(W),t(N),G(()=>{S(H,q().label),S(ie,q().optionPortuguese),S(R,q().optionEnglish),S(D,q().optionPortugueseOrEnglish)}),Ue(N,()=>e(B),le=>r(B,le)),E(c,w)},$$slots:{default:!0}}),t(we);var ke=s(we,2),pt=a(ke);y(pt,{id:"cfp--field-type",children:(c,g)=>{let q=()=>g==null?void 0:g().attrs;var w=pa(),M=ve(w),H=a(M,!0);t(M);var N=s(M,2),P=a(N);P.value=P.__value="talk";var ie=a(P,!0);t(P);var L=s(P);L.value=L.__value="workshop";var R=a(L,!0);t(L),t(N);var W=s(N,2),D=a(W,!0);t(W),G(()=>{S(H,q().label),S(ie,q().optionTalk),S(R,q().optionWorkshop),S(D,q().sublabel)}),Ue(N,()=>e(m),le=>r(m,le)),E(c,w)},$$slots:{default:!0}}),t(ke);var ye=s(ke,2),Se=a(ye),ft=a(Se);y(ft,{id:"cfp--field-title"}),t(Se);var Je=s(Se,2);_e(Je),t(ye);var ze=s(ye,2),qe=a(ze),mt=a(qe);y(mt,{id:"cfp--field-description"}),t(qe);var Re=s(qe,2);me(Re),t(ze);var We=s(ze,2);{var _t=o=>{var c=ma(),g=a(c);y(g,{id:"cfp--field-ideal-duration",children:(w,M)=>{let H=()=>M==null?void 0:M().attrs;var N=fa(),P=ve(N),ie=a(P,!0);t(P);var L=s(P,2),R=a(L);R.value=R.__value="15";var W=a(R,!0);t(R);var D=s(R);D.value=D.__value="20";var le=a(D,!0);t(D);var ne=s(D);ne.value=ne.__value="30";var Ot=a(ne,!0);t(ne);var fe=s(ne);fe.value=fe.__value="45";var At=a(fe,!0);t(fe),t(L),G(()=>{S(ie,H().label),S(W,H().option15minutes),S(le,H().option20minutes),S(Ot,H().option30minutes),S(At,H().option45minutes)}),Ue(L,()=>e(A),Mt=>r(A,Mt)),E(w,N)},$$slots:{default:!0}}),t(c),E(o,c)};$(We,o=>{e(m)==="talk"&&o(_t)})}var Pe=s(We,2),De=a(Pe);y(De,{id:"cfp--tweet-preview"});var Ce=s(De,2);let Ke;var bt=a(Ce);t(Ce),t(Pe);var Qe=s(Pe,2);st(Qe,{get body(){return e(te)},tweetStatusChanged:o=>{r(j,o,!0)}});var Ee=s(Qe,2),gt=a(Ee);y(gt,{id:"cfp--section-about-you"}),t(Ee);var Be=s(Ee,2),Oe=a(Be),xt=a(Oe);y(xt,{id:"cfp--field-bio"}),t(Oe);var Ve=s(Oe,2);me(Ve),t(Be);var Ae=s(Be,2),Xe=a(Ae);y(Xe,{id:"cfp--tweet-preview"});var Me=s(Xe,2);let Ye;var ht=a(Me);t(Me),t(Ae);var Ze=s(Ae,2);st(Ze,{get body(){return e(Q)},tweetStatusChanged:o=>{r(ee,o,!0)}});var Ne=s(Ze,2),wt=a(Ne);y(wt,{id:"cfp--section-contacts"}),t(Ne);var Te=s(Ne,2),Le=a(Te),kt=a(Le);y(kt,{id:"cfp--field-social-medias"}),t(Le);var $e=s(Le,2);me($e),t(Te);var je=s(Te,2),Ie=a(je),yt=a(Ie);y(yt,{id:"cfp--field-email"}),t(Ie);var et=s(Ie,2);_e(et),t(je);var Fe=s(je,2),He=a(Fe),St=a(He);y(St,{id:"cfp--field-notes"}),t(He);var tt=s(He,2);me(tt),t(Fe);var at=s(Fe,2);{var zt=o=>{var c=_a(),g=a(c);sa(g,{get status(){return e(_).status},get message(){return e(_).message}}),t(c),E(o,c)};$(at,o=>{(e(_).status==="success"||e(_).status==="error")&&o(zt)})}var pe=s(at,2),qt=a(pe);{var Pt=o=>{Zt(o,{color:"white",size:16})},Ct=(o,c)=>{{var g=w=>{y(w,{id:"cfp--update"})},q=w=>{y(w,{id:"cfp--submit"})};$(o,w=>{e(n)?w(g):w(q,!1)},c)}};$(qt,o=>{var c;((c=e(_))==null?void 0:c.status)==="submitting"?o(Pt):o(Ct,!1)})}t(pe);var Et=s(pe,2);{var Bt=o=>{var c=ba();c.__click=[ua,n,d,v,f,m,u,x,A,B,h,z,k,O,_];var g=a(c);y(g,{id:"cfp--clear-form"}),t(c),E(o,c)};$(Et,o=>{e(d)&&o(Bt)})}t(b),G((o,c,g,q)=>{var w;Ke=be(Ce,1,"svelte-19xptar",null,Ke,o),S(bt,`(${c??""}/270)`),Ye=be(Me,1,"svelte-19xptar",null,Ye,g),S(ht,`(${q??""}/270)`),pe.disabled=((w=e(_))==null?void 0:w.status)==="submitting"},[()=>({"warning-limit":e(j)==="warning","exceeded-limit":e(j)==="exceeded"}),()=>ue(e(te)),()=>({"warning-limit":e(ee)==="warning","exceeded-limit":e(ee)==="exceeded"}),()=>ue(e(Q))]),It("submit",b,Y),X(Ge,()=>e(v),o=>r(v,o)),X(Je,()=>e(u),o=>r(u,o)),X(Re,()=>e(x),o=>r(x,o)),X(Ve,()=>e(h),o=>r(h,o)),X($e,()=>e(z),o=>r(z,o)),X(et,()=>e(k),o=>r(k,o)),X(tt,()=>e(O),o=>r(O,o)),E(F,b)}}),t(ae),E(l,ae),nt()}jt(["click"]);export{Aa as component};
